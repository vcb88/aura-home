# План Разработки Проекта AURA

## Этап 1: Фундамент — Оборудование и Программное Обеспечение

Это минимальный набор, необходимый для создания тестового стенда, на котором будет вестись вся первоначальная разработка и отладка системы AURA.

---

### **Оборудование (Hardware)**

1.  **Сервер (Мини-ПК):**
    *   **Что это:** Компактный, но достаточно мощный компьютер, который будет работать 24/7.
    *   **Примеры:** Intel NUC, Beelink, Minisforum или аналоги.
    *   **Рекомендуемые характеристики:**
        *   **Процессор:** Intel Core i5 / AMD Ryzen 5 (современного поколения).
        *   **Оперативная память (RAM):** **16 ГБ** (минимум), **32 ГБ** (рекомендуется для комфортной работы с локальными LLM).
        *   **Накопитель (SSD):** **1 ТБ** NVMe SSD (для ОС, баз данных и моделей).

2.  **Zigbee Координатор (USB-стик):**
    *   **Что это:** Устройство, которое позволяет серверу общаться с Zigbee-датчиками напрямую, без необходимости в шлюзах от производителей.
    *   **Примеры:** Sonoff ZBDongle-P/E, SkyConnect.

3.  **Стартовый Набор Датчиков и Устройств:**
    *   **Цель:** Собрать минимальный, но разнообразный набор для тестирования основных сценариев (контекст, принятие решений, действие).
    *   **Список:**
        *   **Датчик присутствия (mmWave):** 1 шт. (например, Aqara FP2) — *ключевой датчик для точного определения присутствия.*
        *   **Датчик температуры и влажности:** 2 шт. (например, Aqara, Sonoff).
        *   **Датчик открытия двери/окна:** 2 шт. (например, Aqara, Sonoff).
        *   **Умная розетка с мониторингом мощности:** 1 шт. (например, Tuya Zigbee, Sonoff S31 Lite ZB).
        *   **Умная лампочка (RGB, яркость):** 1 шт. (например, Philips Hue, IKEA TRÅDFRI).
        *   **Кнопка Zigbee:** 1 шт. (например, Aqara Wireless Mini Switch).

---

### **Программное Обеспечение (Software)**

Все перечисленное ПО является Open Source и будет установлено на сервер, преимущественно в виде Docker-контейнеров для изоляции и простоты управления.

1.  **Операционная система:**
    *   **Рекомендация:** **Debian 12** или **Ubuntu Server 22.04 LTS**. Стабильные и надежные дистрибутивы Linux.

2.  **Система контейнеризации:**
    *   **ПО:** **Docker** и **Docker Compose**. Стандарт де-факто для управления контейнеризированными приложениями.

3.  **Платформа Умного Дома:**
    *   **ПО:** **Home Assistant**. Будет установлен как Docker-контейнер. Это наша основа для взаимодействия с устройствами.

4.  **Стек Вспомогательных Сервисов (также в Docker):**
    *   **MQTT Брокер:** **Mosquitto**. Популярный и легковесный брокер для обмена сообщениями между сервисами и устройствами.
    *   **Zigbee-интеграция:** **Zigbee2MQTT**. Позволяет "прокинуть" Zigbee-устройства в Home Assistant через MQTT.
    *   **Базы данных:**
        *   **PostgreSQL** с расширениями **TimescaleDB** (для истории) и **PGVector** (для семантической памяти).
        *   **Redis** (для кэша и краткосрочной памяти).
    *   **Локальный AI-сервер:** **Ollama**. Для запуска и взаимодействия с языковыми моделями локально.

---

## Этап 2: Определение Фаз Проекта

Разработка будет разделена на четыре основные фазы, каждая со своими целями и результатами.

**Фаза 1: Proof of Concept (PoC) — Проверка концепции**
- **Цель:** Быстро и с минимальными затратами проверить жизнеспособность основной идеи: может ли LLM управлять устройством на основе данных с датчика.
- **Ключевой результат:** Один простой Python-скрипт, который:
    1. Берет показания с датчика температуры через API Home Assistant.
    2. Отправляет промпт с температурой в Ollama.
    3. Получает ответ (например, "включить кондиционер").
    4. Отправляет команду на включение умной розетки через API Home Assistant.
- **Длительность:** ~2-3 недели.

**Фаза 2: Minimum Viable Product (MVP) — Минимально жизнеспособный продукт**
- **Цель:** Построить каркас микросервисной архитектуры, описанной в документации, и реализовать один полноценный сценарий от начала до конца.
- **Ключевой результат:**
    1. Развернуты базовые сервисы в Docker: **AURA Orchestrator**, **AURA Agent** (в Home Assistant), **базы памяти** (Redis, Postgres).
    2. Реализован один полный сценарий, например, "в гостиной душно" (получение запроса от Алисы -> сбор контекста с датчиков -> планирование в LLM -> исполнение через Home Assistant -> запись в память).
    3. Простейший веб-интерфейс для отображения статуса системы.
- **Длительность:** ~3 месяца.

**Фаза 3: Closed Alpha — Закрытая альфа-версия**
- **Цель:** Расширить функциональность, повысить стабильность и начать тестирование с привлечением 1-2 "дружественных" пользователей.
- **Ключевой результат:**
    1. Подключено большее количество датчиков и сценариев.
    2. Реализована **VLM-интеграция** (анализ видео с одной камеры).
    3. Улучшена система памяти и аналитики (первые выводы на основе паттернов).
    4. Появилась возможность настраивать базовые предпочтения пользователя через веб-интерфейс.
- **Длительность:** ~4 месяца.

**Фаза 4: Open Beta / Product Launch — Публичная бета-версия / Запуск**
- **Цель:** Подготовить продукт к выходу на более широкий рынок. Основной фокус на надежности, безопасности, удобстве установки и пользовательском опыте.
- **Ключевой результат:**
    1. Разработана инфраструктура для **AURA Cloud (SaaS)**.
    2. Создан полноценный инсталлятор/мастер настройки для **AURA Edge**.
    3. Проведены нагрузочное тестирование и аудит безопасности.
    4. Подготовлена публичная документация для пользователей и партнеров.
- **Длительность:** ~5 месяцев.

---

## Этап 3: Детальный План на 1-й Квартал (12 недель)

Это самый важный этап, на котором мы закладываем фундамент и создаем первый работающий прототип.

### **Месяц 1: Фундамент и PoC (Недели 1-4)**

*   **Недели 1-2: Подготовка Окружения**
    *   **Задачи:**
        1.  Закупка оборудования (Мини-ПК, Zigbee-стик, стартовый набор датчиков).
        2.  Установка ОС (Debian/Ubuntu Server) и Docker/Docker-Compose.
        3.  Базовая настройка сети и безопасности сервера.
    *   **Результат:** Полностью готовый к работе сервер.

*   **Недели 3-4: Развертывание Базовых Сервисов**
    *   **Задачи:**
        1.  Запуск контейнеров: Home Assistant, Mosquitto (MQTT), Zigbee2MQTT.
        2.  Физическое подключение и сопряжение (pairing) стартового набора Zigbee-датчиков с Zigbee2MQTT.
        3.  Проверка, что все устройства корректно отображаются и управляются из интерфейса Home Assistant.
    *   **Результат:** Работающий Home Assistant со всеми подключенными датчиками.

### **Месяц 2: Разработка PoC и Архитектурный Дизайн (Недели 5-8)**

*   **Неделя 5: Proof of Concept (Часть 1)**
    *   **Задачи:**
        1.  Установка и запуск Ollama в Docker.
        2.  Разработка простого Python-скрипта для взаимодействия с API Home Assistant (чтение состояния датчика, управление розеткой).
    *   **Результат:** Скрипт, который может управлять устройством в Home Assistant.

*   **Неделя 6: Proof of Concept (Часть 2)**
    *   **Задачи:**
        1.  Интеграция Ollama в скрипт: передача промпта с данными от датчика, получение и парсинг ответа.
        2.  Соединение логики: скрипт успешно управляет розеткой на основе ответа LLM.
    *   **Результат:** Успешная демонстрация и фиксация успеха PoC. Ядро технологии работает.

*   **Недели 7-8: Проектирование MVP**
    *   **Задачи:**
        1.  Детальное проектирование микросервисной архитектуры и API-контрактов между сервисами.
        2.  Проектирование схемы баз данных (PostgreSQL/TimescaleDB и Redis).
        3.  Подготовка `docker-compose.yml` для всего стека MVP.
    *   **Результат:** Готовая техническая спецификация и `docker-compose` файл для MVP.

### **Месяц 3: Старт Разработки MVP (Недели 9-12)**

*   **Недели 9-10: Бэкенд - Ядро Системы**
    *   **Задачи:**
        1.  Разработка базового сервиса **Оркестратора** на FastAPI.
        2.  Создание **API Gateway** для маршрутизации запросов.
        3.  Развертывание контейнеров с базами данных (Postgres, Redis).
    *   **Результат:** Работающие "пустые" сервисы, связанные между собой.

*   **Недели 11-12: Бэкенд - Интеграция и Память**
    *   **Задачи:**
        1.  Разработка **AURA Agent** как Add-on для Home Assistant (или отдельного контейнера).
        2.  Реализация базового взаимодействия: Агент -> Оркестратор.
        3.  Реализация первой версии **Слоя Памяти**: запись истории состояний датчиков в TimescaleDB.
    *   **Результат:** Система способна собирать данные с Home Assistant и сохранять их в долгосрочную память.

---

## Этап 4: План на Оставшуюся Часть Года (Q2, Q3, Q4)

Этот план является высокоуровневым, с фокусом на ключевых задачах каждого месяца.

### **Месяц 4-6: Разработка MVP и Голосовая Интеграция (Q2)**

*   **Недели 13-16: Реализация Сквозного Сценария**
    *   **Фокус:** Полная реализация сценария "в гостиной душно".
    *   **Задачи:** Интеграция с Алисой для получения запроса; реализация полной логики Оркестратора (контекст -> LLM -> команда); запись результата в семантическую память (Vector DB).

*   **Недели 17-20: Разработка Web-интерфейса**
    *   **Фокус:** Создание простого дашборда на React.
    *   **Задачи:** Отображение статуса системы, последних событий, состояний ключевых датчиков. Настройка CI/CD для фронтенда.

*   **Недели 21-24: Стабилизация и Тестирование MVP**
    *   **Фокус:** Завершение и отладка MVP.
    *   **Задачи:** Комплексное тестирование, исправление багов, оптимизация, подготовка к внутренней демонстрации.

### **Месяц 7-9: Закрытая Альфа и Расширение Функционала (Q3)**

*   **Недели 25-32: VLM и Новые Сценарии**
    *   **Фокус:** Интеграция компьютерного зрения и расширение возможностей.
    *   **Задачи:** Интеграция VLM-модели для анализа видеопотока с одной IP-камеры (распознавание человека/животного); разработка 5-10 новых проактивных сценариев; начало сбора обратной связи от первых альфа-тестеров.

*   **Недели 33-38: Аналитика и Обучение**
    *   **Фокус:** Сделать систему умнее.
    *   **Задачи:** Разработка первых аналитических отчетов (по энергопотреблению); реализация механизма обучения на основе обратной связи от пользователя ("да, это было полезно" / "нет, не делай так больше"); улучшение веб-интерфейса.

### **Месяц 10-12: Подготовка к Публичному Запуску (Q4)**

*   **Недели 39-44: AURA Cloud и Безопасность**
    *   **Фокус:** Создание SaaS-инфраструктуры.
    *   **Задачи:** Проектирование и развертывание облачной инфраструктуры; реализация системы аутентификации и биллинга; проведение аудита безопасности и нагрузочного тестирования.

*   **Недели 45-48: Удобство Установки и Документация**
    *   **Фокус:** Упрощение входа для новых пользователей.
    *   **Задачи:** Разработка инсталлятора/мастера настройки для AURA Edge; написание публичной документации для пользователей и разработчиков.

*   **Недели 49-52: Подготовка к Бета-тесту**
    *   **Фокус:** Финальная полировка.
    *   **Задачи:** Исправление последних багов; формирование группы для открытого бета-тестирования; стратегическое планирование на следующий год.